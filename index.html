<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BTME Map Explorer</title>
    <style>
      /* Loading fallback styles - will be overridden by app CSS */
      body { margin: 0; background: #1a1a2e; color: #e4e4e7; font-family: sans-serif; }
      #loading-fallback {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        text-align: center;
        padding: 20px;
      }
      #loading-fallback h1 { color: #3388ff; margin-bottom: 1rem; }
      #loading-fallback p { color: #a1a1aa; max-width: 600px; }
      .spinner {
        width: 40px; height: 40px; margin: 20px;
        border: 4px solid #374151; border-top-color: #3388ff;
        border-radius: 50%; animation: spin 1s linear infinite;
      }
      @keyframes spin { to { transform: rotate(360deg); } }
    </style>
  </head>
  <body>
    <div id="root">
      <!-- Loading fallback - will be replaced by React -->
      <div id="loading-fallback">
        <h1>BTME Map Explorer</h1>
        <div class="spinner"></div>
        <p>Loading application...</p>
        <noscript>
          <p style="color: #dc3545; margin-top: 20px;">
            JavaScript is required to run this application. Please enable JavaScript and reload the page.
          </p>
        </noscript>
      </div>
    </div>
    <script>
      // Debug: Track loading progress
      console.log('[Boot] HTML loaded, waiting for main module');
      window.addEventListener('error', function(e) {
        console.error('[Boot] Script error:', e.message, e.filename, e.lineno);
        var fallback = document.getElementById('loading-fallback');
        if (fallback) {
          fallback.innerHTML = '<h1 style="color:#dc3545">Error Loading App</h1>' +
            '<p>Error: ' + e.message + '</p>' +
            '<p>File: ' + e.filename + ':' + e.lineno + '</p>' +
            '<p style="margin-top:20px;font-size:0.9em;color:#a1a1aa">Please try refreshing the page or clearing your browser cache.</p>';
        }
      });
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
